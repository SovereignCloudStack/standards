# -- informal edit log --
# whenever old content is removed as per scs-0003-v1, add a line of the form
# - YYYY-MM-DD pruned old content; affected versions: vN, ...
# - 2025-05-22 pruned old content; affected versions: v1, v2, v3-orig, v5

- id: testcase/opc-v2022.11
  description: Passes OpenStack-powered Compute v2022.11

- id: module/opc-v2022.11-1
  name: OpenStack-powered Compute v2022.11
  url: https://opendev.org/openinfra/interop/src/branch/master/guidelines/2022.11.json
  # we still haven't adapted the refstack test, so there's little chance of passing :(
  # targets:
  #   required:
  #   - testcase/opc-v2022.11


- id: testcase/scs-0100-syntax-check
  description: Flavor names starting `SCS-` comply with syntax.
- id: testcase/scs-0100-semantics-check
  description: Syntactically correct SCS flavor names represent the truth.

- id: module/scs-0100-v3.1
  name: Flavor naming v3.1
  url: https://docs.scs.community/standards/scs-0100-v3-flavor-naming
  targets:
    required:
    - testcase/scs-0100-syntax-check
    - testcase/scs-0100-semantics-check


- id: testcase/scs-0101-flavor-property
  description: Each flavor has extra_spec `hw_rng:allowed=True`.
- id: testcase/scs-0101-image-property
  description: Each image has property `hw_rng_model=virtio`.
- id: testcase/scs-0101-rngd
  description: >
    Images of the test sample must have the service `rngd`; see
    <https://docs.scs.community/standards/scs-0101-w1-entropy-implementation-testing#errors>
- id: testcase/scs-0101-entropy-avail
  description: >
    A test instance must have the correct `entropy_avail`; see
    <https://docs.scs.community/standards/scs-0101-w1-entropy-implementation-testing#errors>
- id: testcase/scs-0101-fips-test
  description: >
    A test instance must pass the "FIPS test"; see
    <https://docs.scs.community/standards/scs-0101-w1-entropy-implementation-testing#errors>

- id: module/scs-0101-v1
  name: Entropy v1
  url: https://docs.scs.community/standards/scs-0101-v1-entropy
  targets:
    required:
    - testcase/scs-0101-entropy-avail
    - testcase/scs-0101-fips-test
    recommended:
    - testcase/scs-0101-flavor-property
    # this is covered by scs-0102-v1
    # - testcase/scs-0101-image-property
    - testcase/scs-0101-rngd


- id: testcase/scs-0102-prop-architecture
  description: Each image has a meaningful value for `architecture`.
- id: testcase/scs-0102-prop-min_disk
  description: Each image has a meaningful value for `min_disk`.
- id: testcase/scs-0102-prop-min_ram
  description: Each image has a meaningful value for `min_ram`.
- id: testcase/scs-0102-prop-os_version
  description: Each image has a meaningful value for `os_version`.
- id: testcase/scs-0102-prop-os_distro
  description: Each image has a meaningful value for `os_distro`.
- id: testcase/scs-0102-prop-hw_disk_bus
  description: Each image has a meaningful value for `hw_disk_bus`.
- id: testcase/scs-0102-prop-hypervisor_type
  description: Each image has a meaningful value for `hypervisor_type`.
- id: testcase/scs-0102-prop-hw_rng_model
  description: Each image has a meaningful value for `hw_rng_model`.
- id: testcase/scs-0102-prop-image_build_date
  description: Each image has a meaningful value for `image_build_date`.
- id: testcase/scs-0102-prop-patchlevel
  description: Each image has a meaningful value for `patchlevel`.
- id: testcase/scs-0102-prop-image_original_user
  description: Each image has a meaningful value for `image_original_user`.
- id: testcase/scs-0102-prop-image_source
  description: Each image has a meaningful value for `image_source`.
- id: testcase/scs-0102-prop-image_description
  description: Each image has a meaningful value for `image_description`.
- id: testcase/scs-0102-prop-replace_frequency
  description: Each image has a meaningful value for `replace_frequency`.
- id: testcase/scs-0102-prop-provided_until
  description: Each image has a meaningful value for `provided_until`.
- id: testcase/scs-0102-prop-uuid_validity
  description: Each image has a meaningful value for `uuid_validity`.
- id: testcase/scs-0102-prop-hotfix_hours
  description: Each image has a meaningful value for `hotfix_hours`.
- id: testcase/scs-0102-image-recency
  description: Each image is as recent as properties (if set) suggest.

- id: module/scs-0102-v1
  url: https://docs.scs.community/standards/scs-0102-v1-image-metadata
  targets:
    required:
    - testcase/scs-0102-prop-architecture
    - testcase/scs-0102-prop-min_disk
    - testcase/scs-0102-prop-min_ram
    - testcase/scs-0102-prop-os_version
    - testcase/scs-0102-prop-os_distro
    - testcase/scs-0102-prop-hw_disk_bus
    - testcase/scs-0102-prop-image_build_date
    - testcase/scs-0102-prop-image_original_user
    - testcase/scs-0102-prop-image_source
    - testcase/scs-0102-prop-image_description
    - testcase/scs-0102-prop-replace_frequency
    - testcase/scs-0102-prop-provided_until
    - testcase/scs-0102-prop-uuid_validity
    - testcase/scs-0102-image-recency
    recommended:
    - testcase/scs-0102-prop-hypervisor_type
    - testcase/scs-0102-prop-hw_rng_model  # when removing, consider moving to scs-0101 instead
    - testcase/scs-0102-prop-patchlevel
    - testcase/scs-0102-prop-hotfix_hours
    # - don't enforce recommended naming, because it just doesn't catch on, and better solutions exist


- id: testcase/scs-0103-flavor-1v-4
  description: check presence of flavor SCS-1v-4
- id: testcase/scs-0103-flavor-2v-8
  description: check presence of flavor SCS-2v-8
- id: testcase/scs-0103-flavor-4v-16
  description: check presence of flavor SCS-4v-16
- id: testcase/scs-0103-flavor-8v-32
  description: check presence of flavor SCS-8v-32
- id: testcase/scs-0103-flavor-1v-2
  description: check presence of flavor SCS-1v-2
- id: testcase/scs-0103-flavor-2v-4
  description: check presence of flavor SCS-2v-4
- id: testcase/scs-0103-flavor-4v-8
  description: check presence of flavor SCS-4v-8
- id: testcase/scs-0103-flavor-8v-16
  description: check presence of flavor SCS-8v-16
- id: testcase/scs-0103-flavor-16v-32
  description: check presence of flavor SCS-16v-32
- id: testcase/scs-0103-flavor-1v-8
  description: check presence of flavor SCS-1v-8
- id: testcase/scs-0103-flavor-2v-16
  description: check presence of flavor SCS-2v-16
- id: testcase/scs-0103-flavor-4v-32
  description: check presence of flavor SCS-4v-32
- id: testcase/scs-0103-flavor-1l-1
  description: check presence of flavor SCS-1l-1
- id: testcase/scs-0103-flavor-2v-4-20s
  description: check presence of flavor SCS-2v-4-20s
- id: testcase/scs-0103-flavor-4v-16-100s
  description: check presence of flavor SCS-4v-16-100s
- id: testcase/scs-0103-flavor-1v-4-10
  description: check presence of flavor SCS-1v-4-10
- id: testcase/scs-0103-flavor-2v-8-20
  description: check presence of flavor SCS-2v-8-20
- id: testcase/scs-0103-flavor-4v-16-50
  description: check presence of flavor SCS-4v-16-50
- id: testcase/scs-0103-flavor-8v-32-100
  description: check presence of flavor SCS-8v-32-100
- id: testcase/scs-0103-flavor-1v-2-5
  description: check presence of flavor SCS-1v-2-5
- id: testcase/scs-0103-flavor-2v-4-10
  description: check presence of flavor SCS-2v-4-10
- id: testcase/scs-0103-flavor-4v-8-20
  description: check presence of flavor SCS-4v-8-20
- id: testcase/scs-0103-flavor-8v-16-50
  description: check presence of flavor SCS-8v-16-50
- id: testcase/scs-0103-flavor-16v-32-100
  description: check presence of flavor SCS-16v-32-100
- id: testcase/scs-0103-flavor-1v-8-20
  description: check presence of flavor SCS-1v-8-20
- id: testcase/scs-0103-flavor-2v-16-50
  description: check presence of flavor SCS-2v-16-50
- id: testcase/scs-0103-flavor-4v-32-100
  description: check presence of flavor SCS-4v-32-100
- id: testcase/scs-0103-flavor-1l-1-5
  description: check presence of flavor SCS-1l-1-5

- id: module/scs-0103-v1
  url: https://docs.scs.community/standards/scs-0103-v1-standard-flavors
  targets:
    required:
    - testcase/scs-0103-flavor-1v-4
    - testcase/scs-0103-flavor-2v-8
    - testcase/scs-0103-flavor-4v-16
    - testcase/scs-0103-flavor-8v-32
    - testcase/scs-0103-flavor-1v-2
    - testcase/scs-0103-flavor-2v-4
    - testcase/scs-0103-flavor-4v-8
    - testcase/scs-0103-flavor-8v-16
    - testcase/scs-0103-flavor-16v-32
    - testcase/scs-0103-flavor-1v-8
    - testcase/scs-0103-flavor-2v-16
    - testcase/scs-0103-flavor-4v-32
    - testcase/scs-0103-flavor-1l-1
    - testcase/scs-0103-flavor-2v-4-20s
    - testcase/scs-0103-flavor-4v-16-100s
    recommended:
    - testcase/scs-0103-flavor-1v-4-10
    - testcase/scs-0103-flavor-2v-8-20
    - testcase/scs-0103-flavor-4v-16-50
    - testcase/scs-0103-flavor-8v-32-100
    - testcase/scs-0103-flavor-1v-2-5
    - testcase/scs-0103-flavor-2v-4-10
    - testcase/scs-0103-flavor-4v-8-20
    - testcase/scs-0103-flavor-8v-16-50
    - testcase/scs-0103-flavor-16v-32-100
    - testcase/scs-0103-flavor-1v-8-20
    - testcase/scs-0103-flavor-2v-16-50
    - testcase/scs-0103-flavor-4v-32-100
    - testcase/scs-0103-flavor-1l-1-5


- id: testcase/scs-0104-source-capi
  description: CAPI images adhere to canonical image source
- id: testcase/scs-0104-source-ubuntu
  description: Ubuntu images adhere to canonical image source
- id: testcase/scs-0104-source-debian
  description: Debian images adhere to canonical image source
- id: testcase/scs-0104-image-capi-2
  description: CAPI image is present (naming scheme v2)
- id: testcase/scs-0104-image-capi-1
  description: CAPI image is present (naming scheme v1)
- id: testcase/scs-0104-image-ubuntu-24.04
  description: Ubuntu 24.04 image is present (by name)
- id: testcase/scs-0104-image-ubuntu-22.04
  description: Ubuntu 22.04 image is present (by name)
- id: testcase/scs-0104-image-debian-12
  description: Debian 12 image is present (by name)

- id: module/scs-0104-v1-1
  url: https://docs.scs.community/standards/scs-0104-v1-standard-images
  targets:
    required:
    - testcase/scs-0104-image-ubuntu-22.04
    - testcase/scs-0104-source-capi
    - testcase/scs-0104-source-ubuntu
    - testcase/scs-0104-source-debian
    recommended:
    - testcase/scs-0104-image-capi-1
- id: module/scs-0104-v1-2
  url: https://docs.scs.community/standards/scs-0104-v1-standard-images
  targets:
    required:
    - testcase/scs-0104-image-ubuntu-24.04
    - testcase/scs-0104-source-capi
    - testcase/scs-0104-source-ubuntu
    - testcase/scs-0104-source-debian
    recommended:
    - testcase/scs-0104-image-capi-2
    - testcase/scs-0104-image-debian-12


- id: testcase/scs-0114-encrypted
  description: An encrypted volume type can be discovered.
- id: testcase/scs-0114-replicated
  description: A replicated volume type can be discovered.

- id: module/scs-0114-v1
  name: Volume Types
  url: https://docs.scs.community/standards/scs-0114-v1-volume-type-standard
  targets:
    recommended:
    - testcase/scs-0114-encrypted
    - testcase/scs-0114-replicated


# do monolithic test for the default security groups because it's hard to decompose, and frankly, I don't
# see the correspondence between the test script and the standards requirements and recommendations
# (the latter probably simply aren't checked?)
- id: testcase/scs-0115-default-rules
  description: >
    Must fulfill all requirements of <https://docs.scs.community/standards/scs-0115-v1-default-rules-for-security-groups>

- id: module/scs-0115-v1
  name: Default rules for security groups
  url: https://docs.scs.community/standards/scs-0115-v1-default-rules-for-security-groups
  targets:
    required:
    - testcase/scs-0115-default-rules


- id: testcase/scs-0116-presence
  description: Key manager service is discoverable.
- id: testcase/scs-0116-permissions
  description: Key manager (if present) is usable with member role.
- id: testcase/scs-0116-v1-docs
  description: >
    Note: manual check! Must fulfill documentation requirements of
    <https://docs.scs.community/standards/scs-0116-v1-key-manager-standard>.

- id: module/scs-0116-v1-1
  name: Key manager
  url: https://docs.scs.community/standards/scs-0116-v1-key-manager-standard
  targets:
    required:
    - testcase/scs-0116-permissions
    # actually required by the standard, but use preview for the time being:
    preview:
    - testcase/scs-0116-v1-docs
    recommended:
    - testcase/scs-0116-presence


- id: testcase/scs-0117-test-backup
  description: Check that volume backup works.

- id: module/scs-0117-v1
  name: Volume backup
  url: https://docs.scs.community/standards/scs-0117-v1-volume-backup-service
  targets:
    required:
    - testcase/scs-0117-test-backup


- id: testcase/scs-0121-v1-docs
  description: >
    Note: manual check! Must fulfill all requirements of
    <https://docs.scs.community/standards/scs-0121-v1-Availability-Zones-Standard>

- id: module/scs-0121-v1-1
  name: Availability Zones
  url: https://docs.scs.community/standards/scs-0121-v1-Availability-Zones-Standard
  targets:
    # actually required by the standard, but use preview for the time being:
    preview:
    - testcase/scs-0121-v1-docs


- id: testcase/scs-0123-service-compute
  description: Compute service is discoverable.
- id: testcase/scs-0123-service-identity
  description: Identity service is discoverable.
- id: testcase/scs-0123-service-image
  description: Image service is discoverable.
- id: testcase/scs-0123-service-network
  description: Network service is discoverable.
- id: testcase/scs-0123-service-load-balancer
  description: Load-balancer service is discoverable.
- id: testcase/scs-0123-service-placement
  description: Placement service is discoverable.
- id: testcase/scs-0123-service-object-store
  description: Object-store service is discoverable.
- id: testcase/scs-0123-storage-apis
  description: The block-storage API is discoverable as `volume`, `volumev3`, or `block-storage`.
- id: testcase/scs-0123-swift-s3
  description: The object-storage API is compatible with S3.

- id: module/scs-0123-v1
  name: Mandatory and Supported IaaS Services
  url: https://docs.scs.community/standards/scs-0123-v1-mandatory-and-supported-IaaS-services
  targets:
    required:
    - testcase/scs-0123-service-compute
    - testcase/scs-0123-service-identity
    - testcase/scs-0123-service-image
    - testcase/scs-0123-service-network
    - testcase/scs-0123-service-load-balancer
    - testcase/scs-0123-service-placement
    - testcase/scs-0123-service-object-store
    - testcase/scs-0123-storage-apis
    - testcase/scs-0123-swift-s3


- id: testcase/scs-0302-v1-docs
  description: >
    Note: manual check! Must fulfill all requirements of
    <https://docs.scs.community/standards/scs-0302-v1-domain-manager-role>

- id: module/scs-0302-v1-1
  name: Domain Manager Role
  url: https://docs.scs.community/standards/scs-0302-v1-domain-manager-role
  targets:
    # actually required by the standard, but use preview for the time being:
    preview:
    - testcase/scs-0302-v1-docs


# #### SCOPE ####
- id: scope/scs-compatible-iaas
  name: SCS-compatible IaaS
  uuid: 50393e6f-2ae1-4c5c-a62c-3b75f2abef3f
  url: https://raw.githubusercontent.com/SovereignCloudStack/standards/main/Tests/scs-compatible-iaas.yaml
  timeline:
  - date: 2025-02-01
    versions:
      v5.1: effective
      v4: warn
      v3: deprecated
  - date: 2024-12-19
    versions:
      v5.1: effective
      v4: effective
      v3: deprecated
  versions:
  - version: v5.1
    stabilized_at: 2024-12-19
    include:
    - module/scs-0100-v3.1
    - module/scs-0101-v1
    - module/scs-0102-v1
    - module/scs-0103-v1
    - module/scs-0104-v1-2
    - module/scs-0114-v1
    - module/scs-0115-v1
    - module/scs-0116-v1-1
    - module/scs-0117-v1
    - module/scs-0121-v1-1
    - module/scs-0123-v1
    - module/scs-0302-v1-1
  - version: v4
    stabilized_at: 2024-02-28
    include:
    - module/scs-0100-v3.1
    - module/scs-0101-v1
    - module/scs-0102-v1
    - module/scs-0103-v1
    - module/scs-0104-v1-1
  - version: v3
    stabilized_at: 2024-02-28
    include:
    - module/scs-0100-v3.1
    - moudle/scs-0102-v1
